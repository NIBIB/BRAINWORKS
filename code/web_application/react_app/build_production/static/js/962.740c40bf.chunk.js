"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[962],{3833:function(n,e,t){var a=t(1413),r=t(6305),s=t(9683),i=(t(463),t(184));e.Z=function(n){var e=n.chartXAxis,t=n.chartDatasets,o=n.chartOptions,c=n.chartType;r.kL.register(r.uw,r.f$,r.ZL,r.Dx,r.u,r.De,r.qi,r.od,r.jn,r.vn,r.tt,r.ST,r.FB);var l=o&&(0,a.Z)({},o),d="bar"===c&&{scales:{y:{ticks:{precision:0}}}},p=(0,a.Z)((0,a.Z)({responsive:!0,maintainAspectRatio:!1,tooltips:{position:"nearest"}},d),l),u={labels:e,datasets:t};return(0,i.jsx)(s.kL,{type:c,options:p,data:u})}},8681:function(n,e,t){var a=t(4165),r=t(5861),s=t(5248),i=t(9592),o=t(7843);e.Z=function(){var n=(0,o.Z)().showGlobalAlert,e=(0,i.Z)(),t=e.formikSlice,c=e.newCaptcha,l=function(){n("Something went wrong!","Please try again later")},d=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(r){var i,o,l,d,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.onSuccess,o=r.successMsg,l=r.onFailure,d=r.failureMsg,p=r.data,(0,s._8)(p)?(o?n("Success!",o,"success"):"string"===typeof p.success&&n("Success!",p.success,"success"),i&&i()):((0,s.jk)(p)&&(d?n("Something went wrong!",d,"error"):n("Something went wrong!",p.error),t.captcha.img.length>0&&c()),l&&l());case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{apiDataAlerter:d,standardAlertError:l,tryCatchWrapper:function(n){try{n()}catch(e){l()}}}}},7843:function(n,e,t){var a=t(6852),r=t(8455),s=t(6579);e.Z=function(){var n=(0,s.C)((function(n){return n.alert})),e=(0,s.T)(),t=(0,a.pm)();return{globalAlert:n,showGlobalAlert:function(n,a,s,i){var o={title:n,desc:a,status:s||"error"};e((0,r.wp)(o)),t({position:"top",title:n,description:a,status:void 0!==s?s:"error",duration:void 0!==i?i:5e3,isClosable:!0})},hideGlobalAlert:function(){e((0,r.JO)())}}}},9592:function(n,e,t){var a=t(4165),r=t(5861),s=t(9439),i=t(5100),o=t(8171),c=t(6579),l=t(5976);e.Z=function(){var n=(0,c.T)(),e=(0,c.C)((function(n){return n.formik})),t=(0,i.ZP)({url:"".concat(l.T,"/new_captcha"),withCredentials:!0},{manual:!0}),d=(0,s.Z)(t,2)[1],p=function(e,t){n((0,o.UX)({img:e,audio:t}))},u=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){var e,t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d();case 2:e=n.sent,(t=e.data)?p(t.img,t.audio):p("","");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{formikSlice:e,setFormik:function(e){var t=e.key,a=e.fieldsInfo,r=e.loading;n((0,o.ri)({key:t,fieldsInfo:a,loading:r}))},setCaptcha:p,newCaptcha:u,resetGlobalFormik:function(){n((0,o.ME)())}}}},5248:function(n,e,t){function a(n){return null===n||void 0===n?void 0:n.hasOwnProperty("success")}function r(n){return null===n||void 0===n?void 0:n.hasOwnProperty("error")}t.d(e,{UK:function(){return i},_8:function(){return a},_R:function(){return o},jk:function(){return r}});var s=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"first",t=arguments.length>2?arguments[2]:void 0;if(n){n=n.toLowerCase();for(var a=0,r=t.length-1,s=null;a<=r;){var i=Math.floor((a+r)/2),o=t[i][0].toLowerCase();o.substr(0,n.length)===n?(s=i,"first"===e?r=i-1:a=i+1):o<n?a=i+1:r=i-1}return s}},i=function(n,e){var t=[],a=s(n,"first",e),r=s(n,"last",e);return null!=a&&null!=r&&(t=e.slice(a,r+1)),t.length>0&&(t.sort((function(n,e){return n[1]<e[1]?1:-1})),t=t.slice(0,5)),t};function o(n,e){return n.filter((function(n){return n.property===e})).shift()}},5962:function(n,e,t){t.r(e),t.d(e,{default:function(){return un}});var a=t(4165),r=t(5861),s=t(9439),i=t(2791),o=t(6871),c=t(8681),l=t(1937),d=t(9194),p=t(277),u=t(2571),h=t(184),f=function(){return(0,p.Z)("Loading"),(0,h.jsxs)(l.gC,{w:"100%",h:"100vh",justify:"Center",spacing:20,children:[(0,h.jsx)(u.Z,{subTitle:"Building",title:"Loading visualizer",desc:"Please do not leave or refresh this page while your visual is being created."}),(0,h.jsx)(d.$,{color:"brand",size:"xl"})]})},g=t(7843),w=t(8890),v=t.n(w),x=t(1436),b=t(6579),m=function(){var n=(0,b.T)();return{setCurrentVisualizer:function(e){n((0,x.e)(e))},curVisualizer:(0,b.C)((function(n){return n.visualizer}))}},y=t(4621),j=t(7762),S=t(8703),_=t.n(S),k="<span class='fw-lighter fst-italic'>Unavailable</span>";function C(){w("div#popup-loading").show()}function z(){w("div#popup-loading").hide()}function T(n){return Math.max(Math.min(n,99.9),.1).toFixed(1).toLocaleString("en-US")}function Z(n,e,t){return void 0==t&&(t=""),t=(t+=" text-decoration-none").trim(),"<a href=".concat(e,' target="_blank" rel="noreferrer noopener" class="').concat(t,'">').concat(n,"</a>")}function A(n){var e="/paper-info?pmid=".concat(n);return w('<div class="ratio ratio-1x1"><iframe src='.concat(e,"></iframe></div>"))}function E(n){var e,t,a;return'\n    <hr>\n    <span class="fw-bold">Node Statistics</span>\n    <p>\n        Degree: '.concat(null===(e=n.data.degree)||void 0===e?void 0:e.toLocaleString("en-US")," <br>\n        Degree Centrality: ").concat(null===(t=n.data.degree_centrality)||void 0===t?void 0:t.toLocaleString("en-US")," <br>\n        Closeness Centrality: ").concat(null===(a=n.data.closeness_centrality)||void 0===a?void 0:a.toLocaleString("en-US")," <br>\n    </p>\n    ")}function L(n){window.graph.node_display(U,"30em","30em"),window.graph.edge_display(M,"30em","30em"),window.graph.popup_display(P,"Legend","30em","30em")}function U(n,e){var t="<h4>".concat(e.label,"</h4>");if(e.tree)t+="<p class='fst-italic'>(double-click to expand)</p>";else{for(var a=new Date(1e3*e.data.time),r=[],i=[],o=0,c=Object.entries(e.data);o<c.length;o++){var l=(0,s.Z)(c[o],2),d=l[0],p=l[1];p&&d.toLowerCase().includes("topic-")&&r.push(p),p&&d.toLowerCase().includes("definition-")&&i.push(p)}for(var u="",h=0;h<r.length;h++){var f=r[h],g=i[h]||k;u+='<p><span class="fw-bold">'.concat(f,":</span> <span>").concat(g,"</span></p>")}t+="\n            <p>\n                Topics: ".concat(r.join(", ")," <br>\n                Earliest Date: ").concat(a.toUTCString(),"\n            </p>\n            ").concat(E(e),"\n            <hr>\n            ").concat(u,"\n        ")}w(n).html(t)}function M(n,e,t,a){if(e.tree)return!1;var r;r=e.data.time?new Date(1e3*e.data.time).toUTCString():k;var s=e.data.title;e.data.doi&&(s=Z(e.data.title,e.data.doi));var i=e.data.abstract||k;if(e.data.abstract){var o="",c=e.data.start_char,l=e.data.end_char;o=i.slice(0,c),o+="<mark>".concat(i.slice(c,l),"</mark>"),o+=i.slice(l,i.length),i=o}var d='\n        <p>\n            <span class="fw-bold">Finding: </span>"...'.concat(e.data.triple,'..." <br>\n            <hr>\n            <span class="fw-bold">Article:</span> ').concat(s,' <br>\n            <span class="fw-bold">Published:</span> ').concat(r,' <br>\n            <span class="fw-bold">PMID:</span> ').concat(e.data.pmid,' <br>\n            <span class="fw-bold">Journal:</span> ').concat(e.data.journal_title,' <br>\n            <span class="fw-bold">Citations:</span> ').concat(e.data.citations,' <br>\n            <span class="fw-bold">Authors:</span> ').concat(e.data.authors," <br>\n        </p>\n        ").concat(function(n){return'\n    <hr>\n    <span class="fw-bold">Edge Statistics</span>\n    <p>\n        Simmelian Strength: '.concat(n.data.simmelian_strength.toLocaleString("en-US")," <br>\n    </p>\n    ")}(e),'\n        <hr>\n        <span class="fw-bold">Abstract:</span>\n        <p class="fs-6">').concat(i,"</p>\n    ");w(n).html(d),w(n).find(".view-triples").click((function(){!function(n,e,t){var a=A(n.data.pmid);window.graph.center_display("","","",3,(function(n){w(n).append(a)}))}(e)}))}function P(n){w(n).parent().parent().prev().click();var e=Z("UMLS","https://www.nlm.nih.gov/research/umls/index.html");w(n).html('\n        <h4 class="fw-bold">Nodes:</h4>\n        <ul>\n            <li>Nodes represent noun-phrases extracted from scientific abstracts related to your search terms.</li>\n            <li>Node colors differentiate topical clusters.</li>\n            <li>Node size corresponds to the number of attached edges.</li>\n            <li>Click a node to see the '.concat(e,' concepts and definitions within the corresponding noun phrase.</li>\n        </ul>\n        <h4 class="fw-bold">Edges:</h4>\n        <ul>\n            <li>Edges represent relationships extracted from scientific abstracts that connect two noun-phrases.</li>\n            <li>Edge thickness corresponds to the number of citations that paper has.</li>\n            <li>Click an edge to view the scientific abstract the relationship was extracted from.</li>\n            <li>Edges are colored according to the type of relationship:<br>\n                <span style="color: blue;">Blue = Positive</span><br>\n                <span style="color: red;">Red = Negative</span><br>\n                <span style="color: black;">Black = Associative</span>\n            </li>\n        </ul>\n    '))}function D(n){window.graph.node_display(O,"30em","30em"),window.graph.popup_display(X,"Legend")}function O(n,e){var t,a=e.data.title||k;e.data.doi&&(a=Z(e.data.title,e.data.doi)),t=e.data.time?new Date(1e3*e.data.time).toUTCString():k;var r="\n    <p>".concat(a,'</p><hr>\n    <p>\n        <span class="fw-bold">Published:</span> ').concat(t,'<br>\n        <span class="fw-bold">Journal:</span> ').concat(e.data.journal_title||k,'<br>\n        <span class="fw-bold">Authors:</span> ').concat(e.data.authors||k,"<br>\n    </p>\n    ").concat(E(e),'\n    <hr>\n    <span class="fw-bold">Abstract:</span>\n    <p>').concat(e.data.abstract||k,"</p>\n    ");w(n).html(r)}function X(n){w(n).parent().parent().prev().click(),w(n).html('\n        <h4 class="fw-bold">Nodes:</h4>\n        <ul>\n            <li>Each <span style="color: red;">Red</span> node is a published paper relating to your search terms</li>\n            <li>Each <span style="color: orange;">Orange</span> node is a published paper that cites any of the papers you searched for</li>\n            <li>Click a node to view the publication information.</li>\n        </ul>\n        <h4 class="fw- bold">Edges:</h4>\n        <ul>\n            <li>Each edge represents a citation between papers.</li>\n        </ul>\n        ')}function F(n){window.graph.node_display(q,"30em","30em"),window.graph.edge_display(G,"30em","30em"),window.graph.popup_display(I,"Legend","30em","30em"),window.graph.add_node_menu_item("See More","Search for more connections to this topic",N)}function q(n,e){var t=e.data.total.toLocaleString("en-US"),a=T(e.data.percentile),r=e.data.category,s=e.data.definition||k,i=e.data.start_date,o=e.data.end_date;w(n).html("\n        <h4>".concat(e.label,'</h4>\n        <span class="fw-bold">Category:</span> ').concat(r,"<br>\n        <p>\n          <hr>\n          From ").concat(i," - ").concat(o,', this topic appeared <span class="fw-bold">').concat(t,'</span> times, which is more than\n          approximately <span class="fw-bold">').concat(a,'%</span> of all topics.\n          <hr>\n          <span class="fw-bold">Definition:</span><br>\n          ').concat(s,"\n          ").concat(E(e),"\n        </p>\n    ")),w(n).find("#paper-list-modal").click((function(){!function(n,e,t){var a=[];a=e&&t?[e.label,t.label]:[n.label];for(var r="?",s=0,i=a;s<i.length;s++){r=r+"&topics="+i[s]}C(),w.ajax({method:"GET",url:"/quick_search_papers_by_mesh_topic"+r,dataType:"json",success:function(n){!function(n,e){var t,a='\n        <table class="table">\n        <tr>\n            <th>Cited</th>\n            <th>Title</th>\n            <th>Triples</th>\n        </tr>\n    ',r=(0,j.Z)(n);try{for(r.s();!(t=r.n()).done;){var s=t.value,i=s.title;s.doi&&(i=Z(s.title,s.doi));var o=k;s.triple&&(o='<a class="btn btn-sm btn-success" data-pmid="'.concat(s.pmid,'">View Triples</a>')),a+="\n        <tr>\n            <td>".concat(s.citations||0,'</td>\n            <td class="fw-bold">').concat(i,"</td>\n            <td>").concat(o,"</td>\n        </tr>\n        ")}}catch(d){r.e(d)}finally{r.f()}a+="</table>";for(var c=0;c<e.length;c++)e[c]='"'.concat(e[c],'"');var l="Publications on topics: "+e.join(", ");window.graph.center_display(l,a,"",2,(function(n){var e,t=w(n).find("a.btn[data-pmid]"),a=(0,j.Z)(t);try{var r=function(){var n=e.value,t=w(n),a=t.data("pmid");t.click((function(){var n=A(a);C(),n.find("iframe").on("load",z),window.graph.center_display("","","",3,(function(e){var t=w(e);n.appendTo(t)}))}))};for(a.s();!(e=a.n()).done;)r()}catch(d){a.e(d)}finally{a.f()}}))}(n,a),z()},error:function(n){console.log("Failed to request paper list"),z()}})}(e)}))}function G(n,e,t,a){var r=e.data.total.toLocaleString("en-US"),s=T(e.data.frequency_percentile),i=Math.abs(e.data.delta.toFixed(1)).toLocaleString("en-US"),o=T(e.data.delta_percentile),c=e.data.delta>0?"increased":"decreased",l=e.data.start_date,d=e.data.end_date;w(n).html("\n        <h4>\n            ".concat(t.label," <br>\n            and <br>\n            ").concat(a.label,"\n        </h4>\n        <p>\n            <hr>\n            From ").concat(l," - ").concat(d,', this pair of topics appeared together in <span class="fw-bold">').concat(r,'</span> publications,\n            which is more than <span class="fw-bold">').concat(s,'%</span> of all topic pairs. Over this time period, the frequency of this topic pair\n            has <span class="fw-bold">').concat(c,'</span> by <span class="fw-bold">').concat(i,'%</span>,\n            which is more than <span class="fw-bold">').concat(o,"%</span> of all topic pairs.\n        </p>\n    "))}function I(n){w(n).parent().parent().prev().click();var e=Z("Medical Subject Headings (MeSH)","https://www.nlm.nih.gov/mesh/meshhome.html"),t="\n        <p>\n            This plot compares research topic connectivity over recent months.\n            The topics shown are ".concat(e,' developed by the NIH.\n        </p>\n        <h4 class="fw-bold">Nodes:</h4>\n        <ul>\n            <li>Each node represents a research topic.</li>\n            <li>Node size corresponds to the total number of times that topic occurred in the literature in recent months.</li>\n            <li>Node color corresponds to the high-level MeSH term category:<br>\n                <span style="color: #a6d75b;">Diseases</span>,\n                <span style="color: #24a824;">Organisms</span>,\n                <span style="color: #2e9e84;">Anatomy</span>,\n                <span style="color: #54bebe;">Humanities</span>,\n                <span style="color: #007399;">Human Groups</span>,\n                <span style="color: #005df9;">Social Phenomena</span>,\n                <span style="color: #1a8cdd;">Psychiatry and Psychology</span>,\n                <span style="color: #8184fb;">Phenomena and Processes</span>,\n                <span style="color: #766aaf;">Techniques and Equipment</span>,\n                <span style="color: #ab3da9;">Chemicals and Drugs</span>,\n                <span style="color: #d65c81;">Health Care</span>,\n                <span style="color: #fe5a01;">Information Science</span>,\n                <span style="color: #eeb711;">Technology, Industry, and Agriculture</span>,\n                <span style="color: #ece000;">Disciplines and Occupations</span>,\n                <span style="color: #814a0c;">Geographicals</span>,\n                <span style="color: #503f3f;">Other</span>.\n            </li>\n        </ul>\n        <h4 class="fw-bold">Edges:</h4>\n        <ul>\n            <li>Each edge means that the connected topics both appeared in the same published papers.</li>\n            <li>Edge thickness corresponds to how frequently this co-occurrence was found in recent months, relative to other edges.</li>\n            <li>Edges are colored by whether this co-occurrence increased or decreased in recent months, relative to other edges.<br>\n                <span style="color: #5370c6;">Blue = Increase</span><br>\n                <span style="color: #cf1717";">Red = Decrease</span><br>\n                <span style="color: grey;">Grey = Relatively Little Change</span>\n            </li>\n        </ul>\n    '),a=_().sanitize(t);w(n).html(a)}function N(n){var e=window.extra_map[n.key]||0;window.extra_map[n.key]=e+10,console.log(n.key),w.ajax({method:"GET",url:"/graph/command/extra_topic_co_occurrences?topic=".concat(n.label,"&start=").concat(e,"&num=").concat(10),dataType:"json",success:function(e){if(e.nodes.length){var t,a=2*Math.PI/e.nodes.length,r=0,s=(0,j.Z)(e.nodes);try{for(s.s();!(t=s.n()).done;){var i=t.value;i.x=n.x+n.size*Math.cos(a*r),i.y=n.y+n.size*Math.sin(a*r),r++}}catch(o){s.e(o)}finally{s.f()}}e.nodes.length||e.edges.length?window.graph.add(e):window.graph.warning("No data found","No more co-occurrences were found within your search constraints..")},error:function(n){window.graph.warning("Error retrieving co-occurrence data",n)}})}var B=function(){var n=m().curVisualizer;return(0,i.useEffect)((function(){!function(n,e){var t;window.extra_map={};var a=1;"paper_citations"==e?t=D:"triples"==e?t=L:"topic_co_occurrences"==e&&(t=F,a=.2),window.graph=new window.Graph(n,{gravity:a}),window.graph.ready((function(){t(window.graph)}))}(n.data,n.representation);var e=setTimeout((function(){v()("iframe").contents().find("#sigma-container").css({backgroundColor:y.d1}),document.body.style.backgroundColor=y.d1}),300);return function(){clearTimeout(e)}}),[n.data,n.representation]),(0,h.jsx)(l.xu,{id:"graphAPI-container",w:"100vw",height:"95%",zIndex:-1})},R=t(3504),V=t(9521),H=t(8722),W=t(4926),J=t(5777),K=t(5135),Y=function(){var n=(0,b.C)((function(n){return n.visualizer}));return(0,h.jsxs)(W.v2,{children:[(0,h.jsx)(K.u,{hasArrow:!0,label:"Settings",color:"white",children:(0,h.jsx)(W.j2,{as:J.hU,"aria-label":"Options",icon:(0,h.jsx)(H.ew,{}),variant:"ghost"})}),(0,h.jsx)(W.qy,{children:(0,h.jsx)(W.sN,{icon:(0,h.jsx)(H._8,{}),onClick:function(){var e=document.createElement("a");e.href="data:application/octet-stream;base64,"+n.zip_data,e.download="BRAINWORKS.zip",e.click()},children:"Download ZIP"})})]})},$=t(2984),Q=function(){var n=m().curVisualizer,e=(0,$.hj)(n.representation);return(0,h.jsxs)(l.xu,{as:"nav",h:"5%",zIndex:100,children:[(0,h.jsxs)(l.Ug,{align:"center",h:"100%",py:2,px:3,w:"100%",bg:"white",justify:"space-between",children:[(0,h.jsxs)(l.Ug,{children:[(0,h.jsx)(K.u,{hasArrow:!0,label:"Back to visualizer selections",color:"white",children:(0,h.jsx)(l.rU,{as:R.rU,to:"/visualizers",children:(0,h.jsx)(V.Z,{})})}),(0,h.jsx)(K.u,{hasArrow:!0,label:"Current visualizer",color:"white",children:(0,h.jsx)(l.X6,{size:"xs",px:3,fontWeight:400,color:"gray.600",children:null===e||void 0===e?void 0:e.title})})]}),(0,h.jsx)(Y,{})]}),(0,h.jsx)(l.iz,{})]})},nn=t(1089),en=function(n){var e=n.def,t=n.text;return(0,h.jsx)(K.u,{hasArrow:!0,label:e,color:"white",isDisabled:!e,children:(0,h.jsx)(l.xv,{as:"span",bg:e?y.OG:"",ml:1,children:t})})},tn=function(){var n=(0,i.useState)(!1),e=(0,s.Z)(n,2),t=e[0],a=e[1],r=m().curVisualizer.data.paper,o=r.doi,c=r.pub_title,d=r.pub_date,p=r.pmid,u=r.authors,f=r.projects,g=(0,i.useMemo)((function(){var n=u.split(","),e=u;return n.length>3&&(e=n.slice(0,3).join(", ").concat("...")),e}),[u]);return(0,h.jsxs)(l.gC,{w:"100%",align:"flex-start",spacing:5,children:[(0,h.jsx)(l.rU,{color:"blue.500",href:o,isExternal:!0,w:"100%",textAlign:"center",children:(0,h.jsx)(l.X6,{size:"sm",children:c})}),(0,h.jsxs)(l.Ug,{children:[(0,h.jsx)(l.X6,{fontSize:"sm",children:"Published"}),(0,h.jsxs)(l.xv,{children:[" ",d]})]}),(0,h.jsxs)(l.Ug,{children:[(0,h.jsx)(l.X6,{fontSize:"sm",children:"PMID"}),(0,h.jsxs)(l.xv,{children:[" ",p]})]}),f&&(0,h.jsxs)(l.Ug,{children:[(0,h.jsx)(l.X6,{fontSize:"sm",children:"Projects"}),(0,h.jsxs)(l.xv,{children:[" ",f]})]}),(0,h.jsxs)(l.gC,{align:"flex-start",children:[(0,h.jsxs)(l.Ug,{children:[(0,h.jsx)(l.X6,{fontSize:"sm",children:"Authors"})," ",(0,h.jsx)(J.zx,{size:"xs",variant:"outline",onClick:function(){a((function(n){return!n}))},children:t?"Show less":"Show more"})]}),(0,h.jsx)(l.xu,{borderColor:"gray.500",textAlign:"left",children:(0,h.jsx)(l.xv,{children:t?u:g})})]}),(0,h.jsx)(l.iz,{})]})},an=function(){var n=m().curVisualizer,e=(0,i.useState)(-1),t=(0,s.Z)(e,2),a=t[0],r=t[1],o=n.data,c=o.triples,d=o.paper,p=(0,i.useMemo)((function(){return(0,$.PX)(c)}),[c]);return(0,h.jsxs)(l.Ug,{align:"center",h:"95%",justify:"space-around",children:[(0,h.jsx)(l.gC,{w:"40%",align:"flex-start",spacing:5,children:(0,h.jsx)(nn.xJ,{bg:"white",maxH:"90vh",boxShadow:"lg",overflowY:"auto",p:5,borderRadius:"lg",children:(0,h.jsxs)(nn.iA,{variant:"simple",size:"xs",fontSize:"xs",children:[(0,h.jsx)(nn.hr,{children:(0,h.jsxs)(nn.Tr,{children:[(0,h.jsx)(nn.Th,{children:"Subject"}),(0,h.jsx)(nn.Th,{mr:3,children:"Relation"}),(0,h.jsx)(nn.Th,{children:"Object"})]})}),(0,h.jsx)(nn.p3,{children:p.map((function(n,e){return(0,h.jsxs)(nn.Tr,{bg:a===e?"gray.300":"",onClick:function(){document.querySelector(n.target).scrollIntoView({behavior:"smooth"})},onMouseEnter:function(){r(e)},onMouseLeave:function(){r(-1)},children:[(0,h.jsx)(nn.Td,{children:n.subFrags.map((function(n){return(0,h.jsx)(en,{text:null===n||void 0===n?void 0:n.text,def:null===n||void 0===n?void 0:n.def})}))}),(0,h.jsx)(nn.Td,{children:n.relation}),(0,h.jsx)(nn.Td,{children:n.objFrags.map((function(n){return(0,h.jsx)(en,{text:null===n||void 0===n?void 0:n.text,def:null===n||void 0===n?void 0:n.def})}))})]},"triple".concat(e))}))})]})})}),(0,h.jsx)(l.W2,{maxW:"3xl",fontSize:"xs",bg:"white",h:"90vh",boxShadow:"lg",overflowY:"auto",p:10,children:(0,h.jsxs)(l.gC,{align:"flex-start",spacing:5,children:[(0,h.jsx)(tn,{}),(0,h.jsx)(l.X6,{size:"md",children:"Abstract"}),(0,h.jsx)(l.xu,{children:d.abstract.map((function(n){var e=n[0];if(void 0!==n[1]){var t=n[1];return(0,h.jsx)(l.xu,{bg:a===t?"gray.300":"",as:"span","data-index":t,onMouseEnter:function(){r(t)},onMouseLeave:function(){r(-1)},children:(0,h.jsx)(l.y$,{query:[c[t].object,c[t].relation,c[t].subject],styles:{bg:y.OG},children:e})},"triple".concat(t))}return(0,h.jsx)(l.xv,{display:"inline",children:e})}))})]})})]})},rn=t(5166),sn=t(3833),on=function(n){var e=n.triples,t=n.label,a=n.data,r=n.years;return(0,h.jsxs)(l.Ug,{align:"center",w:"100%",children:[(0,h.jsx)(l.X6,{fontSize:"xs",fontWeight:400,w:150,style:{hyphens:"auto"},pl:3,children:t}),(0,h.jsx)(l.xu,{w:"100%",h:e.length<10?200:50,children:(0,h.jsx)(sn.Z,{chartXAxis:r,chartDatasets:[{label:t,data:a,borderColor:y.Su,backgroundColor:y.o6,fill:!0,tension:.1}],chartType:"line",chartOptions:{plugins:{legend:{display:!1},tooltip:{caretSize:0}},scales:{x:{ticks:{display:!1},grid:{display:!1,drawBorder:!1}},y:{ticks:{display:!1},gridLines:{display:!0,drawOnChartArea:!1,drawTicks:!1},grid:{display:!1,drawBorder:!1}}}}})})]})},cn=function(){for(var n=[],e=[],t=[],a=1980,r=0;r<40;r++){var s={label:a.toString(),data:[]};n[r]=a;for(var i=0;i<40;i++)s.data[i]=Math.floor(100*Math.random());a++,t[r]=s,e[r]=rn.We.random.words()}var o={itemLabel:"Triples",timelineLabel:"Frequency timeline",years:n,timelines:t,triples:e};return console.log(o),(0,h.jsx)(l.xu,{h:"100vh",children:(0,h.jsx)(l.Kq,{w:"100%",h:"100%",justify:"center",align:"center",children:(0,h.jsxs)(l.gC,{spacing:0,align:"flex-start",w:"90vw",overflowX:"auto",h:e.length<=3?"auto":"90%",pt:5,boxShadow:"lg",borderRadius:"lg",bg:"white",m:50,children:[(0,h.jsxs)(l.Ug,{w:"100%",pb:5,children:[(0,h.jsx)(l.X6,{fontSize:"sm",w:"150px",pl:3,children:o.itemLabel}),(0,h.jsxs)(l.X6,{fontSize:"sm",children:[o.timelineLabel," (",n[0]," - ",n[n.length-1],")"]})]}),(0,h.jsxs)(l.xu,{w:n.length<30?"100%":50*n.length,overflowX:"scroll",children:[(0,h.jsx)(l.iz,{}),(0,h.jsx)(l.xu,{h:"65px",pt:"15px",pl:"150px",bg:"gray.50",pos:"sticky",children:(0,h.jsx)(sn.Z,{chartXAxis:n,chartDatasets:[],chartType:"line",chartOptions:{scales:{x:{position:"top",ticks:{display:!0},grid:{display:!1,drawBorder:!1}}},y:{grid:{display:!1,drawBorder:!1}}}})}),(0,h.jsx)(l.iz,{}),(0,h.jsx)(l.gC,{h:"90%",w:"100%",children:t.map((function(a,r){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(on,{triples:e,label:e[r],data:t[r].data,years:n}),r<t.length-1&&(0,h.jsx)(l.iz,{})]})}))})]})]})})})},ln={triples:(0,h.jsx)(B,{}),topic_co_occurrences:(0,h.jsx)(B,{}),paper_citations:(0,h.jsx)(B,{}),paper_triples:(0,h.jsx)(an,{}),frequency_timelines:(0,h.jsx)(cn,{})},dn=function(){var n=(0,o.s0)(),e=(0,b.C)((function(n){return n.visualizer})),t=(0,g.Z)().showGlobalAlert;return(0,p.Z)("Editor"),(0,i.useEffect)((function(){void 0!==(null===e||void 0===e?void 0:e.representation)&&void 0!==ln[null===e||void 0===e?void 0:e.representation]||(t("Error","Your visual could not be found. Please try again.","error",5e3),n("/test"))}),[null===e||void 0===e?void 0:e.representation]),(0,h.jsxs)(l.xu,{h:"100vh",children:[(0,h.jsx)(Q,{}),ln[null===e||void 0===e?void 0:e.representation]]})},pn=t(3621),un=function(){var n=(0,o.s0)(),e=(0,pn.Z)({url:"visualizer-editor",method:"GET"}).getAxios,t=(0,c.Z)().apiDataAlerter,l=m().setCurrentVisualizer,d=(0,i.useState)(!0),p=(0,s.Z)(d,2),u=p[0],w=p[1],v=(0,g.Z)().showGlobalAlert;return(0,i.useEffect)((function(){var s=function(){var s=(0,r.Z)((0,a.Z)().mark((function r(){var s,i;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:s=a.sent,i=s.data,t({data:i,onSuccess:function(){l(i.success),w(!1)},onFailure:function(){n("/")}});case 5:case"end":return a.stop()}}),r)})));return function(){return s.apply(this,arguments)}}();try{s()}catch(i){v("Something went wrong!","The request to create your visual could not send.")}}),[]),(0,h.jsx)(h.Fragment,{children:u?(0,h.jsx)(f,{}):(0,h.jsx)(dn,{})})}}}]);
//# sourceMappingURL=962.740c40bf.chunk.js.map